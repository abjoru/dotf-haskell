# dotf

![GitHub release (latest by date)](https://img.shields.io/github/v/release/abjoru/dotf-haskell)

DotF is a simple dot-files and associated application manager.
It is being developed for personal use to quickly spin up a new
system with all my dot-files and core applications in place.

## Install binary release

Download and install using something similar to the script below:

```bash
#!/bin/bash

RELEASE=v0.1.0
BINARY=dotf-linux-bin
URL=https://github.com/abjoru/dotf-haskell/releases/download

set -e 
mkdir -p ~/.local/bin
echo "Fetching from: $URL/$RELEASE/$BINARY"
wget -q -O ~/.local/bin/dotf "$URL/$RELEASE/$BINARY"
chmod +x ~/.local/bin/dotf
```

### Bash, Zsh, and Fish Completions

Shell completion scripts can be generated by the application
itself, thanks to the [optparse-applicative](https://github.com/pcapriotti/optparse-applicative) lib.

The following options can be used depending on your shell:

- `--zsh-completion-script`
- `--bash-completion-script`
- `--fish-completion-script`

#### Bash Completion Example

In following with the install example above, adding bash
completion for the new binary can be done as follows:

```console
$ dotf --bash-completion-script `which dotf` >> ~/.local/share/bash-completion/completions/dotf
```

The same pattern applies for other shells but will differ
in standard install location for completion scripts.

## Getting Started

`DotF` will bootstrap itself on first launch. It will ask
you for a couple of values with sane defaults. This will
produce the `dotf.yaml` config file as well as an example
package config file that can be used to create your own.

### Attaching existing bare repository

If you already have a `bare` repository on GitHub, you can
attach it with the following command:

```console
$ dotf new -u https://github.com/<user>/<repo>
```

This will clone the repo into the target directory as 
defined by the `dotf.yaml` config file. Once ready, you
can proceed with installing packages (assuming pacman-
based system for the example below):

```console
$ mv ~/.config/dotf/example-pacman.yaml ~/.config/dotf/pacman.yaml
$ vim ~/.config/dotf/pacman.yaml
$ dotf update
```

You can do a `dry-run` of the update command using the
`-d` flag: `dotf -d update`
